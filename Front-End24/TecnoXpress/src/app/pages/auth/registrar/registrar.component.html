<h1 class="tituloform">Formulario de Registro</h1>

<section>
  <div class="container_register">
    <div class="register-wrapper">
      <div class="register-form">
        <form [formGroup]="registerForm" (ngSubmit)="registrar()">
          <div class="form-group" [ngClass]="{'invalid': Nombre?.invalid && Nombre?.touched, 'valid': Nombre?.valid && Nombre?.touched}">
            <label for="nombre">Nombre</label>
            <input type="text" formControlName="nombre" class="form-control" id="nombre" placeholder="Ingrese su nombre" required minlength="4">
            <div *ngIf="Nombre?.errors && Nombre?.touched">
              <p *ngIf="Nombre?.hasError('required')" class="text-danger">
                El nombre es requerido!
              </p>
              <p *ngIf="Nombre?.hasError('minlength')" class="text-danger">
                El nombre debe tener más de 4 dígitos.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': NombreUsuario?.invalid && NombreUsuario?.touched, 'valid': NombreUsuario?.valid && NombreUsuario?.touched}">
            <label for="nombreUsuario">NombreUsuario</label>
            <input type="text" formControlName="nombreUsuario" class="form-control" id="nombreUsuario" placeholder="Ingrese su nombre de usuario" required minlength="4">
            <div *ngIf="NombreUsuario?.errors && NombreUsuario?.touched">
              <p *ngIf="NombreUsuario?.hasError('required')" class="text-danger">
                El nombre de usuario es requerido!
              </p>
              <p *ngIf="NombreUsuario?.hasError('minlength')" class="text-danger">
                El nombre de usuario debe tener más de 4 dígitos.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': Apellido?.invalid && Apellido?.touched, 'valid': Apellido?.valid && Apellido?.touched}">
            <label for="apellido">Apellido</label>
            <input type="text" formControlName="apellido" class="form-control" id="apellido" placeholder="Ingrese su apellido" required minlength="4">
            <div *ngIf="Apellido?.errors && Apellido?.touched">
              <p *ngIf="Apellido?.hasError('required')" class="text-danger">
                El Apellido es requerido!
              </p>
              <p *ngIf="Apellido?.hasError('minlength')" class="text-danger">
                El apellido debe tener más de 4 dígitos.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': Email?.invalid && Email?.touched, 'valid': Email?.valid && Email?.touched}">
            <label for="email">Correo Electrónico</label>
            <input type="email" formControlName="email" class="form-control" id="email" placeholder="name@example.com" required>
            <div *ngIf="Email?.errors && Email?.touched">
              <p *ngIf="Email?.hasError('required')" class="text-danger">
                El email es requerido!
              </p>
              <p *ngIf="Email?.hasError('email')" class="text-danger">
                El formato del email no es válido.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': Telefono?.invalid && Telefono?.touched, 'valid': Telefono?.valid && Telefono?.touched}">
            <label for="telefono">Teléfono</label>
            <input type="number" formControlName="telefono" class="form-control" id="telefono" placeholder="+543571621961" required minlength="11" maxlength="20">
            <div *ngIf="Telefono?.errors && Telefono?.touched">
              <p *ngIf="Telefono?.hasError('required')" class="text-danger">
                El teléfono es requerido!
              </p>
              <p *ngIf="Telefono?.hasError('minlength')" class="text-danger">
                El teléfono debe tener al menos 11 números.
              </p>
              <p *ngIf="Telefono?.hasError('maxlength')" class="text-danger">
                El teléfono no puede sobrepasar los 20 números.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': Dni?.invalid && Dni?.touched, 'valid': Dni?.valid && Dni?.touched}">
            <label for="dni">DNI</label>
            <input type="number" formControlName="dni" class="form-control" id="dni" placeholder="Ingrese su DNI" required minlength="7" maxlength="8">
            <div *ngIf="Dni?.errors && Dni?.touched">
              <p *ngIf="Dni?.hasError('required')" class="text-danger">
                El DNI es requerido!
              </p>
              <p *ngIf="Dni?.hasError('minlength')" class="text-danger">
                El DNI debe tener al menos 7 dígitos.
              </p>
              <p *ngIf="Dni?.hasError('maxlength')" class="text-danger">
                El DNI no puede sobrepasar los 8 dígitos.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': FechaNacimiento?.invalid && FechaNacimiento?.touched, 'valid': FechaNacimiento?.valid && FechaNacimiento?.touched}">
            <label for="fechaNacimiento">Fecha de Nacimiento</label>
            <input type="date" formControlName="fechaNacimiento" class="form-control" id="fechaNacimiento" placeholder="dd/mm/aaaa" required>
            <div *ngIf="FechaNacimiento?.errors && FechaNacimiento?.touched">
              <p *ngIf="FechaNacimiento?.hasError('required')" class="text-danger">
                La fecha de nacimiento es requerida!
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': Password?.invalid && Password?.touched, 'valid': Password?.valid && Password?.touched}">
            <label for="password">Contraseña</label>
            <div class="password-wrapper">
              <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control" id="password" placeholder="Ingrese su contraseña" required minlength="8">
              <button type="button" (click)="togglePasswordVisibility()" class="toggle-password">
                {{ showPassword ? 'Ocultar' : 'Mostrar' }}
              </button>
            </div>
            <div *ngIf="Password?.errors && Password?.touched">
              <p *ngIf="Password?.hasError('required')" class="text-danger">
                La contraseña es requerida!
              </p>
              <p *ngIf="Password?.hasError('minlength')" class="text-danger">
                La contraseña debe tener al menos 8 dígitos.
              </p>
            </div>
          </div>

          <div class="form-group" [ngClass]="{'invalid': ConfirmPassword?.invalid && ConfirmPassword?.touched, 'valid': ConfirmPassword?.valid && ConfirmPassword?.touched}">
            <label for="confirmPassword">Repetir Contraseña</label>
            <div class="password-wrapper">
              <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword" class="form-control" id="confirmPassword" placeholder="Repetir su contraseña" required>
              <button type="button" (click)="toggleConfirmPasswordVisibility()" class="toggle-password">
                {{ showConfirmPassword ? 'Ocultar' : 'Mostrar' }}
              </button>
            </div>
            <div *ngIf="ConfirmPassword?.errors && ConfirmPassword?.touched">
              <p *ngIf="ConfirmPassword?.hasError('required')" class="text-danger">
                La confirmación de contraseña es requerida!
              </p>
              <p *ngIf="registerForm.errors?.['passwordMismatch']" class="text-danger">
                Las contraseñas no coinciden.
              </p>
            </div>
          </div>

          <button type="submit" class="btn btn-primary boton" [ngClass]="{'valid-button': registerForm.valid}" [disabled]="registerForm.invalid">Registrar</button>
        </form>
      </div>
    </div>
  </div>
</section>




