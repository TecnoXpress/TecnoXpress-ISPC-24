<main class="form-signin">
  <h1 class="tituloform">Formulario de Registro</h1>
  <section>
    <div class="container_register">
      <div class="register-wrapper">
        <div class="register-form">
          <form [formGroup]="registerForm" (ngSubmit)="registrar()">
            <div class="form-group" [ngClass]="{'invalid': Nombre?.invalid && Nombre?.touched, 'valid': Nombre?.valid && Nombre?.touched}">
              <label for="nombre">Nombre</label>
              <input type="text" formControlName="nombre" class="form-control" id="nombre" placeholder="Ingrese su nombre" required minlength="4">
              @if (Nombre?.errors && Nombre?.touched) {
                @if (Nombre?.hasError('required')) {
                  <p class="text-danger">El nombre es requerido!</p>
                }
                @else if (Nombre?.hasError('minlength')) {
                  <p class="text-danger">El nombre debe tener más de 4 dígitos.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': NombreUsuario?.invalid && NombreUsuario?.touched, 'valid': NombreUsuario?.valid && NombreUsuario?.touched}">
              <label for="nombreUsuario">NombreUsuario</label>
              <input type="text" formControlName="nombreUsuario" class="form-control" id="nombreUsuario" placeholder="Ingrese su nombre de usuario" required minlength="4">
              @if (NombreUsuario?.errors && NombreUsuario?.touched) {
                @if (NombreUsuario?.hasError('required')) {
                  <p class="text-danger">El nombre de usuario es requerido!</p>
                }
                @else if (NombreUsuario?.hasError('minlength')) {
                  <p class="text-danger">El nombre de usuario debe tener más de 4 dígitos.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': Apellido?.invalid && Apellido?.touched, 'valid': Apellido?.valid && Apellido?.touched}">
              <label for="apellido">Apellido</label>
              <input type="text" formControlName="apellido" class="form-control" id="apellido" placeholder="Ingrese su apellido" required minlength="4">
              @if (Apellido?.errors && Apellido?.touched) {
                @if (Apellido?.hasError('required')) {
                  <p class="text-danger">El Apellido es requerido!</p>
                }
                @else if (Apellido?.hasError('minlength')) {
                  <p class="text-danger">El apellido debe tener más de 4 dígitos.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': Email?.invalid && Email?.touched, 'valid': Email?.valid && Email?.touched}">
              <label for="email">Correo Electrónico</label>
              <input type="email" formControlName="email" class="form-control" id="email" placeholder="name@example.com" required>
              @if (Email?.errors && Email?.touched) {
                @if (Email?.hasError('required')) {
                  <p class="text-danger">El email es requerido!</p>
                }
                @else if (Email?.hasError('email')) {
                  <p class="text-danger">El formato del email no es válido.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': Telefono?.invalid && Telefono?.touched, 'valid': Telefono?.valid && Telefono?.touched}">
              <label for="telefono">Teléfono</label>
              <input type="number" formControlName="telefono" class="form-control" id="telefono" placeholder="+543571621961" required minlength="11" maxlength="20">
              @if (Telefono?.errors && Telefono?.touched) {
                @if (Telefono?.hasError('required')) {
                  <p class="text-danger">El teléfono es requerido!</p>
                }
                @else if (Telefono?.hasError('minlength')) {
                  <p class="text-danger">El teléfono debe tener al menos 11 números.</p>
                }
                @else if (Telefono?.hasError('maxlength')) {
                  <p class="text-danger">El teléfono no puede sobrepasar los 20 números.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': Dni?.invalid && Dni?.touched, 'valid': Dni?.valid && Dni?.touched}">
              <label for="dni">DNI</label>
              <input type="number" formControlName="dni" class="form-control" id="dni" placeholder="Ingrese su DNI" required minlength="7" maxlength="8">
              @if (Dni?.errors && Dni?.touched) {
                @if (Dni?.hasError('required')) {
                  <p class="text-danger">El DNI es requerido!</p>
                }
                @else if (Dni?.hasError('minlength')) {
                  <p class="text-danger">El DNI debe tener al menos 7 dígitos.</p>
                }
                @else if (Dni?.hasError('maxlength')) {
                  <p class="text-danger">El DNI no puede sobrepasar los 8 dígitos.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': FechaNacimiento?.invalid && FechaNacimiento?.touched, 'valid': FechaNacimiento?.valid && FechaNacimiento?.touched}">
              <label for="fechaNacimiento">Fecha de Nacimiento</label>
              <input type="date" formControlName="fechaNacimiento" class="form-control" id="fechaNacimiento" placeholder="dd/mm/aaaa" required>
              @if (FechaNacimiento?.errors && FechaNacimiento?.touched) {
                @if (FechaNacimiento?.hasError('required')) {
                  <p class="text-danger">La fecha de nacimiento es requerida!</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': Password?.invalid && Password?.touched, 'valid': Password?.valid && Password?.touched}">
              <label for="password">Contraseña</label>
              <div class="password-wrapper">
                <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control" id="password" placeholder="Ingrese su contraseña" required minlength="8">
                <button type="button" (click)="togglePasswordVisibility()" class="toggle-password">
                  {{ showPassword ? 'Ocultar' : 'Mostrar' }}
                </button>
              </div>
              @if (Password?.errors && Password?.touched) {
                @if (Password?.hasError('required')) {
                  <p class="text-danger">La contraseña es requerida!</p>
                }
                @else if (Password?.hasError('minlength')) {
                  <p class="text-danger">La contraseña debe tener al menos 8 dígitos.</p>
                }
              }
            </div>

            <div class="form-group" [ngClass]="{'invalid': ConfirmPassword?.invalid && ConfirmPassword?.touched, 'valid': ConfirmPassword?.valid && ConfirmPassword?.touched}">
              <label for="confirmPassword">Repetir Contraseña</label>
              <div class="password-wrapper">
                <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword" class="form-control" id="confirmPassword" placeholder="Repetir su contraseña" required>
                <button type="button" (click)="toggleConfirmPasswordVisibility()" class="toggle-password">
                  {{ showConfirmPassword ? 'Ocultar' : 'Mostrar' }}
                </button>
              </div>
              @if (ConfirmPassword?.errors && ConfirmPassword?.touched) {
                @if (ConfirmPassword?.hasError('required')) {
                  <p class="text-danger">La confirmación de contraseña es requerida!</p>
                }
                @if (registerForm.errors?.['passwordMismatch']) {
                  <p class="text-danger">Las contraseñas no coinciden.</p>
                }
              }
            </div>

            <button type="submit" class="btn btn-primary boton" [ngClass]="{'valid-button': registerForm.valid}" [disabled]="registerForm.invalid">Registrar</button>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>







